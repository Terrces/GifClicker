<!DOCTYPE html>
<head>
    <link>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GifClicker</title>
    <link rel="stylesheet" href="../../style.css">
</head>
<body style="opacity:100%; overflow-x:hidden; background-size:cover; background-image:url('https://images.unsplash.com/photo-1728023081225-01eef35ed93d?q=80&w=2080&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');">
    <div class="UI" style="display: flex; align-items: center; vertical-align: middle; justify-content: center; height: 100%;">
        <div  style="font-size:1.2em; padding:8px; border-radius:4%; display: flex; flex-direction: column; max-width:16em; left:16px; background-color:rgba(0,0,0,0.3);">
            <button class="ButtonPlay" onclick="window.location.href='../Clicker.html'" type="button">Play</button>
            <button class="ButtonSettings" onclick="window.location.href='./Settings'" type="button">Settings</button>
            <button class="ButtonCredits" onclick="window.location.href='./Credits.html'" type="button">Credits</button>
            <button class="ButtonExit" onclick="window.close()" type="button">Exit</button>
            <button class="ButtonDevMenu" onclick="window.location.href='../../Dev/dev_menu.html'" type="button"></button>
            <div style="filter: invert(1); border-radius:16px; padding:2px; margin-top:4px;">
                <a href="https://x.com/terrces"><img src="../../Pictures/Icons/links/twitterx.svg" style="height:2em; width:2em;"></a>
                <a href="https://t.me/terrces_dev"><img src="../../Pictures/Icons/links/telegram.svg" style="height:2em; width:2em;"></a>
                <a href="https://github.com/Terrces"><img src="../../Pictures/Icons/links/github.svg" style="height:2em; width:2em;"></a>
            </div>
        </div>
    </div>

    <div class="LatestBuild">
        <div><text class="CurrentBuild"></text><text class="CurrentBuildName"></text></div>
        <img class="BuildImage" style="max-height: 16em; filter: drop-shadow(2px 2px 2px);">
        <text class="Date"></text>
        <text class="changes" style="word-break:normal;"></text>
    </div>
    <script src="../../Scripts/Localization/Menu.js" type="module"></script>
    <script src="../../Scripts/Style.js" type="module"></script>
    <script type="module">
        let windowOuterWidth = window.outerWidth
        let UI = document.querySelector(".UI");
        UI.style.borderRadius = "0px";
        UI.style.left = "0px";
        UI.style.right = "0px";
        UI.style.width = "100%";
        UI.style.maxWidth = "1000vw";
        window.addEventListener('resize',() => {
            location.reload();
            if(windowOuterWidth <= 800){
                document.querySelector(".CurrentBuild").textContent = "current version:" + PatchNotes.UpdateNumbers[i];
                let latestbuild = document.querySelector(".LatestBuild");
                let UI = document.querySelector(".UI");
                latestbuild.style.fontSize = "1.4vh";
                latestbuild.style.backgroundColor = "transparent";
                latestbuild.style.bottom = "0px";
                latestbuild.style.color = "white";
            }
        })


        let PatchNotesFetch = await fetch("../../Data/PatchNotes.json");
        let PatchNotes = await PatchNotesFetch.json()
        document.querySelector(".LatestBuild").addEventListener("click", () => {window.location.href='./PatchNotes.html'})
        for(let i = 0; i < PatchNotes.UpdateNumbers.length;i++){
            if(windowOuterWidth <= 800){
                document.querySelector(".CurrentBuild").textContent = "current version:" + PatchNotes.UpdateNumbers[i];
                let latestbuild = document.querySelector(".LatestBuild");
                let UI = document.querySelector(".UI");
                latestbuild.style.fontSize = "1.4vh";
                latestbuild.style.backgroundColor = "transparent";
                latestbuild.style.bottom = "0px";
                latestbuild.style.color = "white";
            }
            else
            {
                document.querySelector(".CurrentBuild").textContent = "v" + PatchNotes.UpdateNumbers[i];
	            document.querySelector(".CurrentBuildName").textContent = ": " + PatchNotes.PatchNotesNames[i];
                document.querySelector(".BuildImage").src = PatchNotes.Image[i];
                document.querySelector(".changes").textContent = PatchNotes.Changes[i];
                document.querySelector(".Date").textContent = "Updated: " + PatchNotes.Date[i];
            }
            if(PatchNotes.Date[i] == "Creating"){
                document.querySelector(".ButtonDevMenu").style.display = "block";
            }
            else
            {
                document.querySelector(".ButtonDevMenu").style.display = "none";
            }
        }
    </script>
</body>